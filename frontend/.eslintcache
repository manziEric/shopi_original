[{"/home/eman/webdev/react/amazona/frontend/src/index.js":"1","/home/eman/webdev/react/amazona/frontend/src/App.js":"2","/home/eman/webdev/react/amazona/frontend/src/reportWebVitals.js":"3","/home/eman/webdev/react/amazona/frontend/src/data.js":"4","/home/eman/webdev/react/amazona/frontend/src/components/Product.js":"5","/home/eman/webdev/react/amazona/frontend/src/components/Rating.js":"6","/home/eman/webdev/react/amazona/frontend/src/screens/HomeScreen.js":"7","/home/eman/webdev/react/amazona/frontend/src/screens/ProductScreen.js":"8","/home/eman/webdev/react/amazona/frontend/src/components/LoadingBox.js":"9","/home/eman/webdev/react/amazona/frontend/src/components/MessageBox.js":"10","/home/eman/webdev/react/amazona/frontend/src/store.js":"11","/home/eman/webdev/react/amazona/frontend/src/reducers/productReducers.js":"12","/home/eman/webdev/react/amazona/frontend/src/constants/productConstants.js":"13","/home/eman/webdev/react/amazona/frontend/src/actions/productActions.js":"14","/home/eman/webdev/react/amazona/frontend/src/screens/CartScreen.js":"15","/home/eman/webdev/react/amazona/frontend/src/reducers/cartReducers.js":"16","/home/eman/webdev/react/amazona/frontend/src/constants/cartConstants.js":"17","/home/eman/webdev/react/amazona/frontend/src/actions/cartActions.js":"18","/home/eman/webdev/react/amazona/frontend/src/screens/SigninScreen.js":"19","/home/eman/webdev/react/amazona/frontend/src/reducers/userReducers.js":"20","/home/eman/webdev/react/amazona/frontend/src/constants/userConstants.js":"21","/home/eman/webdev/react/amazona/frontend/src/actions/userActions.js":"22","/home/eman/webdev/react/amazona/frontend/src/screens/RegisterScreen.js":"23","/home/eman/webdev/react/amazona/frontend/src/screens/ShippingAddressScreen.js":"24","/home/eman/webdev/react/amazona/frontend/src/components/CheckoutSteps.js":"25","/home/eman/webdev/react/amazona/frontend/src/screens/PaymentMethodScreen.js":"26","/home/eman/webdev/react/amazona/frontend/src/screens/PlaceOrderScreen.js":"27","/home/eman/webdev/react/amazona/frontend/src/actions/orderActions.js":"28","/home/eman/webdev/react/amazona/frontend/src/constants/orderConstants.js":"29","/home/eman/webdev/react/amazona/frontend/src/reducers/orderReducer.js":"30","/home/eman/webdev/react/amazona/frontend/src/screens/OrderScreen.js":"31","/home/eman/webdev/react/amazona/frontend/src/screens/OrderHistoryScreen.js":"32","/home/eman/webdev/react/amazona/frontend/src/screens/ProfileScreen.js":"33","/home/eman/webdev/react/amazona/frontend/src/components/PrivateRoute.js":"34","/home/eman/webdev/react/amazona/frontend/src/screens/ProductListScreen.js":"35","/home/eman/webdev/react/amazona/frontend/src/components/AdminRoute.js":"36","/home/eman/webdev/react/amazona/frontend/src/screens/ProductEditScreen.js":"37","/home/eman/webdev/react/amazona/frontend/src/screens/OrderListScreen.js":"38","/home/eman/webdev/react/amazona/frontend/src/screens/UserListScreen.js":"39","/home/eman/webdev/react/amazona/frontend/src/screens/UserEditScreen.js":"40"},{"size":658,"mtime":1610638043547,"results":"41","hashOfConfig":"42"},{"size":4861,"mtime":1615975739798,"results":"43","hashOfConfig":"42"},{"size":362,"mtime":1610290724672,"results":"44","hashOfConfig":"42"},{"size":1648,"mtime":1610445441691,"results":"45","hashOfConfig":"42"},{"size":707,"mtime":1611586723186,"results":"46","hashOfConfig":"42"},{"size":1403,"mtime":1610310479369,"results":"47","hashOfConfig":"42"},{"size":1036,"mtime":1617290017488,"results":"48","hashOfConfig":"42"},{"size":3948,"mtime":1610978452042,"results":"49","hashOfConfig":"42"},{"size":201,"mtime":1615567770996,"results":"50","hashOfConfig":"42"},{"size":204,"mtime":1610550441891,"results":"51","hashOfConfig":"42"},{"size":2239,"mtime":1615977292542,"results":"52","hashOfConfig":"42"},{"size":2637,"mtime":1615906064752,"results":"53","hashOfConfig":"42"},{"size":1108,"mtime":1615906037672,"results":"54","hashOfConfig":"42"},{"size":3584,"mtime":1615906141080,"results":"55","hashOfConfig":"42"},{"size":3366,"mtime":1615749680469,"results":"56","hashOfConfig":"42"},{"size":1450,"mtime":1615632067119,"results":"57","hashOfConfig":"42"},{"size":278,"mtime":1615631976526,"results":"58","hashOfConfig":"42"},{"size":1336,"mtime":1615584291134,"results":"59","hashOfConfig":"42"},{"size":2139,"mtime":1615568313301,"results":"60","hashOfConfig":"42"},{"size":3426,"mtime":1615977772853,"results":"61","hashOfConfig":"42"},{"size":1514,"mtime":1615977713179,"results":"62","hashOfConfig":"42"},{"size":5230,"mtime":1615977092555,"results":"63","hashOfConfig":"42"},{"size":3091,"mtime":1615568845328,"results":"64","hashOfConfig":"42"},{"size":3002,"mtime":1615581348888,"results":"65","hashOfConfig":"42"},{"size":430,"mtime":1615577469923,"results":"66","hashOfConfig":"42"},{"size":1812,"mtime":1615623625906,"results":"67","hashOfConfig":"42"},{"size":4980,"mtime":1615751922834,"results":"68","hashOfConfig":"42"},{"size":5086,"mtime":1615922474056,"results":"69","hashOfConfig":"42"},{"size":1450,"mtime":1615921156142,"results":"70","hashOfConfig":"42"},{"size":3361,"mtime":1615921310955,"results":"71","hashOfConfig":"42"},{"size":7556,"mtime":1615923230781,"results":"72","hashOfConfig":"42"},{"size":1871,"mtime":1615976203564,"results":"73","hashOfConfig":"42"},{"size":3680,"mtime":1615823209338,"results":"74","hashOfConfig":"42"},{"size":471,"mtime":1615824553476,"results":"75","hashOfConfig":"42"},{"size":3532,"mtime":1615906421217,"results":"76","hashOfConfig":"42"},{"size":531,"mtime":1615825712787,"results":"77","hashOfConfig":"42"},{"size":6214,"mtime":1615901877155,"results":"78","hashOfConfig":"42"},{"size":2786,"mtime":1615922752353,"results":"79","hashOfConfig":"42"},{"size":2653,"mtime":1615977805698,"results":"80","hashOfConfig":"42"},{"size":3398,"mtime":1615978238629,"results":"81","hashOfConfig":"42"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},"1oxwo7f",{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"94"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113","usedDeprecatedRules":"84"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"156","usedDeprecatedRules":"84"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"161","usedDeprecatedRules":"84"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},"/home/eman/webdev/react/amazona/frontend/src/index.js",[],["168","169"],"/home/eman/webdev/react/amazona/frontend/src/App.js",[],"/home/eman/webdev/react/amazona/frontend/src/reportWebVitals.js",[],"/home/eman/webdev/react/amazona/frontend/src/data.js",[],["170","171"],"/home/eman/webdev/react/amazona/frontend/src/components/Product.js",[],["172","173"],"/home/eman/webdev/react/amazona/frontend/src/components/Rating.js",[],"/home/eman/webdev/react/amazona/frontend/src/screens/HomeScreen.js",[],"/home/eman/webdev/react/amazona/frontend/src/screens/ProductScreen.js",[],"/home/eman/webdev/react/amazona/frontend/src/components/LoadingBox.js",[],"/home/eman/webdev/react/amazona/frontend/src/components/MessageBox.js",[],"/home/eman/webdev/react/amazona/frontend/src/store.js",[],"/home/eman/webdev/react/amazona/frontend/src/reducers/productReducers.js",[],"/home/eman/webdev/react/amazona/frontend/src/constants/productConstants.js",[],"/home/eman/webdev/react/amazona/frontend/src/actions/productActions.js",["174"],"import Axios from \"axios\";\nimport {\n  PRODUCT_CREATE_FAIL,\n  PRODUCT_CREATE_REQUEST,\n  PRODUCT_CREATE_SUCCESS,\n  PRODUCT_DETAILS_FAIL,\n  PRODUCT_DETAILS_REQUEST,\n  PRODUCT_DETAILS_SUCCESS,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_UPDATE_REQUEST,\n  PRODUCT_UPDATE_SUCCESS,\n  PRODUCT_UPDATE_FAIL,\n  PRODUCT_DELETE_REQUEST,\n  PRODUCT_DELETE_SUCCESS,\n} from \"../constants/productConstants\";\n\n//export listProducts to HomeScreen\n//to respond to the productAction (dispatch) we need a productReducer.js\n// send dispatch data as an (action) to productReducer.js\nexport const listProducts = () => async (dispatch) => {\n  dispatch({\n    type: PRODUCT_LIST_REQUEST,\n  });\n\n  try {\n    const { data } = await Axios.get(\"/api/products\");\n    dispatch({\n      type: PRODUCT_LIST_SUCCESS,\n      payload: data,\n    });\n  } catch (err) {\n    dispatch({\n      type: PRODUCT_LIST_FAIL,\n      payload: err.message,\n    });\n  }\n};\n\n//export detailsProduct to productScreen\n// send dispatch data as an (action) to productReducer.js\nexport const detailsProduct = (productId) => async (dispatch) => {\n  dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\n  try {\n    const { data } = await Axios.get(`/api/products/${productId}`);\n    dispatch({\n      type: PRODUCT_DETAILS_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    console.log(\"error\");\n    dispatch({\n      type: PRODUCT_DETAILS_FAIL,\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    });\n  }\n};\n\nexport const createProduct = () => async (dispatch, getState) => {\n  dispatch({ type: PRODUCT_CREATE_REQUEST });\n  const {\n    userSignin: { userInfo },\n  } = getState();\n  try {\n    const { data } = await Axios.post(\n      \"/api/products\",\n      {},\n      {\n        headers: { Authorization: `Bearer ${userInfo.token}` },\n      }\n    );\n\n    dispatch({\n      type: PRODUCT_CREATE_SUCCESS,\n      // we get data product from backend from payload of PRODUCT_CREATE_SUCCESS\n      payload: data.product,\n    });\n  } catch (error) {\n    const message =\n      error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message;\n    dispatch({ type: PRODUCT_CREATE_FAIL, payload: message });\n  }\n};\n\nexport const updateProduct = (product) => async (dispatch, getState) => {\n  dispatch({ type: PRODUCT_UPDATE_REQUEST, payload: product });\n\n  const {\n    userSignin: { userInfo },\n  } = getState();\n\n  try {\n    const { data } = await Axios.put(`/api/products/${product._id}`, product, {\n      headers: { Authorization: `Bearer ${userInfo.token}` },\n    });\n    dispatch({ type: PRODUCT_UPDATE_SUCCESS, payload: data });\n  } catch (error) {\n    const message =\n      error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message;\n    dispatch({ type: PRODUCT_UPDATE_FAIL, error: message });\n  }\n};\n\nexport const deleteProduct = (productId) => async (dispatch, getState) => {\n  dispatch({ type: PRODUCT_DELETE_REQUEST, payload: productId });\n  const {\n    userSignin: { userInfo },\n  } = getState();\n\n  try {\n    const { data } = Axios.delete(`/api/products/${productId}`, {\n      headers: { Authorization: `Bearer ${userInfo.token}` },\n    });\n\n    dispatch({ type: PRODUCT_DELETE_SUCCESS });\n  } catch (error) {\n    const message =\n      error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message;\n    dispatch({ type: PRODUCT_DETAILS_FAIL, payload: message });\n  }\n};\n","/home/eman/webdev/react/amazona/frontend/src/screens/CartScreen.js",[],"/home/eman/webdev/react/amazona/frontend/src/reducers/cartReducers.js",[],"/home/eman/webdev/react/amazona/frontend/src/constants/cartConstants.js",[],"/home/eman/webdev/react/amazona/frontend/src/actions/cartActions.js",[],"/home/eman/webdev/react/amazona/frontend/src/screens/SigninScreen.js",[],"/home/eman/webdev/react/amazona/frontend/src/reducers/userReducers.js",[],"/home/eman/webdev/react/amazona/frontend/src/constants/userConstants.js",[],"/home/eman/webdev/react/amazona/frontend/src/actions/userActions.js",[],"/home/eman/webdev/react/amazona/frontend/src/screens/RegisterScreen.js",[],"/home/eman/webdev/react/amazona/frontend/src/screens/ShippingAddressScreen.js",[],"/home/eman/webdev/react/amazona/frontend/src/components/CheckoutSteps.js",[],"/home/eman/webdev/react/amazona/frontend/src/screens/PaymentMethodScreen.js",[],"/home/eman/webdev/react/amazona/frontend/src/screens/PlaceOrderScreen.js",[],"/home/eman/webdev/react/amazona/frontend/src/actions/orderActions.js",[],"/home/eman/webdev/react/amazona/frontend/src/constants/orderConstants.js",[],"/home/eman/webdev/react/amazona/frontend/src/reducers/orderReducer.js",[],"/home/eman/webdev/react/amazona/frontend/src/screens/OrderScreen.js",[],"/home/eman/webdev/react/amazona/frontend/src/screens/OrderHistoryScreen.js",[],"/home/eman/webdev/react/amazona/frontend/src/screens/ProfileScreen.js",[],"/home/eman/webdev/react/amazona/frontend/src/components/PrivateRoute.js",[],"/home/eman/webdev/react/amazona/frontend/src/screens/ProductListScreen.js",["175"],"import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  createProduct,\n  deleteProduct,\n  listProducts,\n} from \"../actions/productActions\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport {\n  PRODUCT_CREATE_RESET,\n  PRODUCT_DELETE_FAIL,\n  PRODUCT_DELETE_RESET,\n} from \"../constants/productConstants\";\n\nconst ProductListScreen = (props) => {\n  const productList = useSelector((state) => state.productList);\n  const { loading, error, products } = productList;\n\n  const productCreate = useSelector((state) => state.productCreate);\n  const {\n    loading: loadingCreate,\n    error: errorCreate,\n    success: successCreate,\n    product: createdProduct,\n  } = productCreate;\n\n  const productDelete = useSelector((state) => state.productDelete);\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete,\n  } = productDelete;\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (successCreate) {\n      dispatch({ type: PRODUCT_CREATE_RESET });\n      props.history.push(`/product/${createdProduct._id}/edit`);\n    }\n    if (successDelete) {\n      dispatch({ type: PRODUCT_DELETE_RESET });\n    }\n\n    dispatch(listProducts());\n  }, [createdProduct, dispatch, props.history, successCreate, successDelete]);\n\n  const deleteHandler = (product) => {\n    //TODO: delete image from upload file after delete\n\n    if (window.confirm(\"Are you sure to delete product ?\")) {\n      dispatch(deleteProduct(product._id));\n    }\n  };\n\n  const createHandler = () => {\n    dispatch(createProduct());\n  };\n\n  return (\n    <div>\n      <div className=\"row\">\n        <h1>Products</h1>\n        <button type=\"button\" className=\"primary\" onClick={createHandler}>\n          Create Product\n        </button>\n      </div>\n\n      {loadingDelete && <LoadingBox></LoadingBox>}\n      {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\n\n      {loadingCreate && <LoadingBox></LoadingBox>}\n      {errorCreate && <MessageBox variant=\"danger\">{errorCreate}</MessageBox>}\n      {loading ? (\n        <LoadingBox />\n      ) : error ? (\n        <MessageBox variant=\"danger\">{error}</MessageBox>\n      ) : (\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>NAME</th>\n              <th>PRICE</th>\n              <th>CATEGORY</th>\n              <th>BRAND</th>\n              <th>ACTIONS</th>\n            </tr>\n          </thead>\n          <tbody>\n            {products.map((product) => (\n              <tr key={product._id}>\n                <td>{product._id}</td>\n                <td>{product.name}</td>\n                <td>{product.price}</td>\n                <td>{product.category}</td>\n                <td>{product.brand}</td>\n                <td>\n                  <button\n                    type=\"button\"\n                    className=\"small\"\n                    onClick={() => {\n                      props.history.push(`/product/${product._id}/edit`);\n                    }}\n                  >\n                    Edit\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"small\"\n                    onClick={() => deleteHandler(product)}\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n};\n\nexport default ProductListScreen;\n","/home/eman/webdev/react/amazona/frontend/src/components/AdminRoute.js",[],"/home/eman/webdev/react/amazona/frontend/src/screens/ProductEditScreen.js",["176"],"import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Axios from \"../../node_modules/axios/index\";\nimport { detailsProduct, updateProduct } from \"../actions/productActions\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { PRODUCT_UPDATE_RESET } from \"../constants/productConstants\";\n\nconst ProductEditScreen = (props) => {\n  const productId = props.match.params.id;\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [countInStock, setCountInStock] = useState(\"\");\n  const [brand, setBrand] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [loadingUpload, setLoadingUpload] = useState(false);\n  const [errorUpload, setErrorUpload] = useState(\"\");\n\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n\n  const productDetails = useSelector((state) => state.productDetails);\n  const { loading, error, product } = productDetails;\n\n  const productUpdate = useSelector((state) => state.productUpdate);\n  const {\n    loading: loadingUpdate,\n    error: errorUpdate,\n    success: successUpdate,\n  } = productUpdate;\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (successUpdate) {\n      //need to look at bug redirect\n      props.history.push(\"/productlist\");\n    }\n    if (!product || product._id !== productId || successUpdate) {\n      dispatch({ type: PRODUCT_UPDATE_RESET });\n      dispatch(detailsProduct(productId));\n    } else {\n      setName(product.name);\n      setPrice(product.price);\n      setImage(product.image);\n      setCategory(product.category);\n      setCountInStock(product.countInStock);\n      setBrand(product.brand);\n      setDescription(product.description);\n    }\n  }, [dispatch, product, productId, successUpdate, props.history]);\n\n  const submitHandler = () => {\n    dispatch(\n      updateProduct({\n        _id: productId,\n        name,\n        price,\n        image,\n        category,\n        brand,\n        countInStock,\n        description,\n      })\n    );\n  };\n\n  const uploadFileHandler = async (e) => {\n    const file = e.target.files[0];\n    const bodyFormData = new FormData();\n    bodyFormData.append(\"image\", file);\n    setLoadingUpload(true);\n\n    try {\n      const { data } = await Axios.post(\"/api/uploads\", bodyFormData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${userInfo.token}`,\n        },\n      });\n      setImage(data);\n      setLoadingUpload(false);\n    } catch (error) {\n      setErrorUpload(error.message);\n      setLoadingUpload(false);\n    }\n  };\n\n  return (\n    <div>\n      <form onSubmit={submitHandler} className=\"form\">\n        <div>\n          <h1>Edit Product {productId}</h1>\n        </div>\n        {loadingUpdate && <LoadingBox />}\n        {errorUpdate && <MessageBox variant=\"danger\">{errorUpdate}</MessageBox>}\n        {loading ? (\n          <LoadingBox />\n        ) : error ? (\n          <MessageBox variant=\"danger\">{error}</MessageBox>\n        ) : (\n          <>\n            <div>\n              <label htmlFor=\"name\">Name</label>\n              <input\n                type=\"text\"\n                id=\"name\"\n                placeholder=\"Enter name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"price\">Price</label>\n              <input\n                type=\"text\"\n                id=\"price\"\n                placeholder=\"Enter price\"\n                value={price}\n                onChange={(e) => setPrice(e.target.value)}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"image\">Image</label>\n              <input\n                type=\"text\"\n                id=\"image\"\n                placeholder=\"Enter image\"\n                value={image}\n                onChange={(e) => setImage(e.target.value)}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"imageFile\">Image File</label>\n              <input\n                type=\"file\"\n                id=\"imageFile\"\n                label=\"Choose Image\"\n                onChange={uploadFileHandler}\n              />\n              {loadingUpdate && <LoadingBox />}\n              {errorUpload && (\n                <MessageBox variant=\"danger\">{errorUpload}</MessageBox>\n              )}\n            </div>\n            <div>\n              <label htmlFor=\"category\">Category</label>\n              <input\n                type=\"text\"\n                id=\"category\"\n                placeholder=\"Enter category\"\n                value={category}\n                onChange={(e) => setCategory(e.target.value)}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"brand\">Brand</label>\n              <input\n                type=\"text\"\n                id=\"brand\"\n                placeholder=\"Enter brand\"\n                value={brand}\n                onChange={(e) => setBrand(e.target.value)}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"countInStock\">Count In Stock</label>\n              <input\n                type=\"text\"\n                id=\"countInStock\"\n                placeholder=\"Enter countInStock\"\n                value={countInStock}\n                onChange={(e) => setCountInStock(e.target.value)}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"description\">Description</label>\n              <textarea\n                type=\"text\"\n                id=\"description\"\n                placeholder=\"Enter description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n              ></textarea>\n            </div>\n            <div>\n              <label />\n              <button className=\"primary\" type=\"submit\">\n                Update\n              </button>\n            </div>\n          </>\n        )}\n      </form>\n    </div>\n  );\n};\n\nexport default ProductEditScreen;\n","/home/eman/webdev/react/amazona/frontend/src/screens/OrderListScreen.js",[],"/home/eman/webdev/react/amazona/frontend/src/screens/UserListScreen.js",[],"/home/eman/webdev/react/amazona/frontend/src/screens/UserEditScreen.js",[],{"ruleId":"177","replacedBy":"178"},{"ruleId":"179","replacedBy":"180"},{"ruleId":"177","replacedBy":"181"},{"ruleId":"179","replacedBy":"182"},{"ruleId":"177","replacedBy":"183"},{"ruleId":"179","replacedBy":"184"},{"ruleId":"185","severity":1,"message":"186","line":119,"column":13,"nodeType":"187","messageId":"188","endLine":119,"endColumn":17},{"ruleId":"185","severity":1,"message":"189","line":12,"column":3,"nodeType":"187","messageId":"188","endLine":12,"endColumn":22},{"ruleId":"185","severity":1,"message":"190","line":18,"column":10,"nodeType":"187","messageId":"188","endLine":18,"endColumn":23},"no-native-reassign",["191"],"no-negated-in-lhs",["192"],["191"],["192"],["191"],["192"],"no-unused-vars","'data' is assigned a value but never used.","Identifier","unusedVar","'PRODUCT_DELETE_FAIL' is defined but never used.","'loadingUpload' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]